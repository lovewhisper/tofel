<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<title>fnpcell API documentation</title>
<meta name="description" content="Functional Parameterized Cell …" />
<link rel="preload stylesheet" as="style" href="assets/10up-sanitize.css/11.0.1/sanitize.min.css">
<link rel="preload stylesheet" as="style" href="assets/10up-sanitize.css/11.0.1/typography.min.css">
<link rel="stylesheet preload" as="style" href="assets/highlight.js/10.1.1/styles/github-dark.min.css">
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}#lunr-search{width:100%;font-size:1em;padding:6px 9px 5px 9px;border:1px solid silver}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="assets/highlight.js/10.1.1/highlight.min.js"></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>fnpcell</code></h1>
</header>
<section id="section-intro">
<h1 id="functional-parameterized-cell">Functional Parameterized Cell</h1>
<p>PhotoCAD is a computer-aided design platform for photonic
integrated circuit layout design based on Python language. The PhotoCAD
platform includes two tools-pPCell, or photonic PCell and pLink, or
photonic Link, which correspond to the parametric device layout design
and the circuit-level layout design of the photonic integrated circuit layout
design.</p>
<p>PhotoCAD is written in Python language, which is widely used in the
industry. The algorithm for generating layouts has been carefully
researched and specially optimized by photonic integrated circuit
designers. It has unique advantages among similar tools worldwide, such
as no distortion of layout at any angle, tearing and other issues.</p>
<p>pPCell is a tool for parametric component layout design in the
PhotoCAD platform. It covers the common active and passive components
in current photonic integrated chips. The waveguide used in the
components covers FWG (Full etch waveguide) and MWG (Medium etch
waveguide), and SWG (Shallow etch waveguide) types. In pPcell, all
parameterized components (i.e. Parameterized Cell, PCell) are defined in
the function through Python scripts, and the user can flexibly adjust the
parameters in the function to achieve a specific cell when calling and using
it in a component layout design.</p>
<p>pLink is a tool for automatic component interconnection design in the
PhotoCAD platform. In addition to instantiating the components and
setting the placement of the components in the script, the user can also
use pLink to complete the automatic interconnection design of the
components through a simple port connection definition. pLink will call
the corresponding waveguide transition unit according to the waveguide
type of the component port to realize the transition of the waveguide type
at the port, and instantiate the corresponding straight and bend
waveguides to complete the connection between the component ports
according to the position of the component port.</p>
<h1 id="changelog">Changelog</h1>
<pre><code class="language-markdown">Version 1.4.8 (2022-8-26)
============================
- minor updates

Version 1.4.7 (2022-8-22)
============================
- `Pin` / `Port` change: `disabled` property

Version 1.4.6 (2022-8-16)
============================
- minor SDL enhancements
- bugfix(polygon max points)
- `fp.el.Rect` support `bottom_left` and `center`, deprecating `origin`
- minor internal changes

Version 1.4.5 (2022-7-18)
============================
- minor SDL enhancements

Version 1.4.4 (2022-6-30)
============================
- bugfixes

Version 1.4.3 (2022-6-27)
============================
- fp.el.Label supports `anchor` parameter to align label from start, center or end.
- fp.el.Rect supports zero for `corner_radius` parameter. Assign it to [0, 10, 0, 0] will result a rectangle with bottom-left corner rounded.
- bugfixes

Version 1.4.2 (2022-6-24)
============================
- minor fixes

Version 1.4.1 (2022-6-24)
============================
- minor fixes

Version 1.4.0 (2022-6-1)
============================
- `fp.place` to place a device with specific port at target position and right orientation
- `fp.LinkSmooth`, `fp.LinkBetween`， `fp.create_links` and `fp.Linked` added an optional `straight_factory` parameter to customize generated straight waveguide
- `fp.LinkBetwween` and `fp.create_links` using parameter `metal_line_type` instead of `vias` and new parameter `(metal_)fitting_function` is added
- `IWaveguideType` requires an additional field `straight_factory` which point to a default straight factory for that waveguide type
- `fp.export_gds` support `auto_flatten=True` parameter, `False` value will disable auto flattening which will run faster but will be under risk of 1nm gap
- `fp.Waveguide` added new `offset` and `final_offset` parameter
- `fp.Waveguide` is replaced by `waveguide_type(curve=some_curve, offset=0, final_offset=None)` **Breaking Change**
- `fp.Pin` using parameter `metal_line_type` instead of `layer` **Breaking Change**
- `fp.export_pls` added to support pLogic sdl/lds
- `fp.Timing` removed **Breaking Change**
- `fp.import_from_json` supports both `layer` and `metal_line_type` for pin definition in json file
- `fp.g.Rect` and `fp.el.Rect` add `corner_radius` parameter
- `fp.util.collect_deps` for source file dependencies
- Using `logging` instead of `print`
- `fp.Port` and `fp.Pin` accept optional `shape` parameter
- bands annotation fix
- minor fixes

Version 1.3.0 (2021-12-24)
============================
- `LinkBetween`, `Linked` and `create_links` now use `bend_factory` instead of `bend_type` and `auto_bend`. **Breaking Change**
- `Path.smooth` now prefer `IBendCurveFactory`(`bend_factory` parameter) instead of `IBendFactory`(`bend` parameter). `IBendFactory`(`bend` parameter) is deprecated.
- `fp.IBendFactory` is deprecated, use `fp.IBendCurveFactory` and `fp.IBendWaveguideFactory` instead.
- `fp.g.Curve` renamed to `fp.g.FunctionCurve` **Breaking Change**
- `IAffineTransformable.rotated` support new `inplace=True` parameter which rotate element at its own origin.
- `fp.g.Circle`, `fp.g.Ring`, `fp.el.Circle`, `fp.el.Ring` is added
- `fp.el.QRCode` and `fp.el.DataMatrixCode` is added
- Compatibility: most removing/deprecated features can be kept by importing `fnpcell.compat` after 'from fnpcell import all'
- `fp.g.Ring`, `fp.el.Ring`, `fp.g.EllipticalRing` and `fp.el.EllipticalRing` supports pair form angle parameter now, eg. `initial_radians=(outer, inner)`
- `fp.export_lyp` added a `name_format` parameter to support layer name customization
- `LayerFill`, `LayerStroke`, `LayerStyle`, `LayerStyleSet`, `Color`, `NamedColor`, `FillPattern` added in `fnpcell.pdk.technology.display`
- `fnpcell.element.Polyline` use `end_hints` instead of multiple value `width` to align ends
- `fp.el.CurvePaint` and `fp.ICurvedCellRef` added to simplify curve related drawing
- `fp.IWaveguide` renamed to `fp.IWaveguideLike`
- `fp.Linked` and `fp.LinkBetween` for waveguide are reimplemented using `fp.LinkSmooth` and length-matching support most 180-turn case.
- `fp.LinkSmooth` supports `target_length` for route with 180-turn case.
- `fpt.AutoTransition` updated and requires factories returning transition and port names. **Breaking Change**
- `fp.IBendWaveguideFactory` returns bend waveguide and port names. `fpt.LinkingPolicy` and `fp.LinkSmooth` is updated. **Breaking Change**
- polygon boolean performance update
- gdsii font support: `GDSFontMeta`
- bugfixes


Version 1.2.0 (2021-11-10)
============================
- `fp.g.Region`, `fp.el.PolygonSet` and `ICellRef.polygon_set`() are added to enable boolean operations on polygons and layers, see gpdk examples
- `LinkBetween`, `Linked` and `create_links` will generate `FlylineWarning` at the same time generating a flyline polygon, and can be turned to an error using `warnings.simplefilter`()
- `fp.import_from_gds`() supports a `ports` parameter and returns `ICellRef` now. **Breaking Change** Old code need a `.cell` to get the cell
- `fp.import_from_json`() supports a `default_layers` parameter to provide common layer mappings.
- `fp.UnknownLayer` for importing external gds file
- bugfix for importing `PATH` element from gdsii file
- polyfill for python dataclasses bug(`replace` vs `InitVar`)

Version 1.1.1 (2021-11-1)
============================
- `grow` is deprecated, use `offsetted` instead. (Naming change)
- performance tuning
- license control

Version 1.1.0 (2021-10-29)
============================
- `frozen = True`(was `final = True` in v1.0.0) in class parameters to make class final(cannot be inherited)
- `fp.Param`() support `frozen = True`(was `final = True` in v1.0.0) to make parameter final in subclass(cannot pass value by user, cannot redefine, cannot override `_default_xxx` method)
- `register_technology`() and `get_technology`() supports `warnings = False` to suppress warnings such as &quot;not subclass of gpdk's technology&quot; etc.
- supporting simplified pcell class definition by providing IDE lesser typing info
- including api docs within the whl

Version 1.0.0 (2021-10-27)
============================
- `final = True` in class parameters to make class final(cannot be inherited)
- `fp.Param`() support `final = True` to make parameter final in subclass(cannot pass value by user, cannot redefine, cannot override `_default_xxx` method)
- `grow`() for `IShape` and `ICurve`
- `fp.statistics()` for collecting build time for each pcell, see gpdk/examples/example_demultiplexer2.py
- `fp.Timing()` for timing code block, see gpdk/examples/example_demultiplexer2.py
- `TECH.DEVICE.band_annotation` is called with `ICell` instead of `ICellRef`

Version 0.5.7 (2021-10-20)
============================
- minor update for documentation support
- minor bugfixes

Version 0.5.6 (2021-10-13)
============================
- `fp.angle_between` and `fp.distance_between` are vectorized now.
    ```python
    p1 = [(4, 3), (5, 5)]
    p0 = [(0, 0), (1, 2)]
    angles = fp.angle_between(p1, p0)
    print(angles)
    # result: [0.64350111 0.64350111]
    distances = fp.distance_between(p1, p0)
    print(distances)
    # result: [5., 5.]
    ```
- add `fp.create_links` which works like `fp.Linked` except that `fp.create_links` returns only a tuple of links it created.
- `immutable`=True in `MappingParam` and `ListParam` convert `Mapping`, `Set` and `Sequence` to immutable `FrozenDict`, `frozenset` and `Tuple` recursively.

Version 0.5.5 (2021-10-9)
============================
- `ListParam`() and `MappingParam`() now default use `immutable` = False instead of `mutable` = True. *Breaking change*
- `register_technology`() returns getter for `TECH` now (returns `TECH` proxy before). see gpdk. *Breaking change*
- `get_bounding_box` now supports `exclude_layers` to filter out layers such as `TECH.LAYER.PINREC_NOTE`
- `band` parameter in `pcell` / `pcell_class` supports string value now, for example: `@fp.pcell_class(band=[&quot;C&quot;, &quot;O&quot;])`, raises `LookupError` if invalid
- deprecate `filename` parameter in `export_gds`() / `export_spc`(), use `file` parameter instead.  (will be removed in 0.5.6)
- deprecate `gds_path` parameter in `import_from_gds`, use `gds_file` parameter instead.  (will be removed in 0.5.6)
- deprecate `fp.auto_export`() decorator. (will be removed in 0.5.6)
- `gds_filename`, `filename` in `generate_svrf`() rename to `gds_path`, `file`. *Breaking change*
- `filename` in `export_lyp`() rename to `file`. *Breaking change*
- `auto_close` parameter in `GDSWriter` and `SPICEWriter` is removed. *Breaking change*
- `styled` in `fnpcell.ansi.term` is removed, use `style` instead. *Breaking change*
- aggressive caching / performance tuning
- documents support `Search` for method / class

Version 0.5.4 (2021-9-29)
============================
- `DeviceParam` support `pin_count` which restrict the number of pins of device
- `import_gds` parameter `cell_name` is optional now. Raise `LookupError` if gds file contains multiple cell and `cell_name` is not provided
- `import_gds` filter duplicate polygons in same cell since they are identity and one is enough
- `ListParam`() and `MappingParam`() now has `mutable` = True by default

Version 0.5.3 (2021-9-27)
============================
- `InstanceSet`, `ElementSet` and `PortSet` with methods added: .`first`() and .`last`() which returns first/last inserted item, raises LookupError if empty
- `InstanceSet`, `ElementSet` and `PortSet` raises ValueError when inserting with duplicate keys
- content property of `InstanceSet`, `ElementSet` and `PortSet` rename to _content so private
- Add some cache for `PCell`.`build`, and realign gds output with functional pcell
- `Port` and `Pin` have .`x` / .`y` readonly properties which are shortcut for .`position`[0] / .`position`[1]
- Documentation infrastructure improvement

Version 0.5.2 (2021-9-22)
============================
- move `CircularBendFactory` to fnpcell.technology.bend_factory.circular_bend_factory
- move `EulerBendFactory` to fnpcell.technology.bend_factory.euler_bend_factory
- RADIUS parameter in `CircularBendFactory` renamed to radius
- RADIUS_MIN, P and L_MAX parameter in `CircularBendFactory` renamed to radius_min, p, l_max
- metal `LinkBetween` bugfix: vias overlapping area too big
- `MappingParam` automatic convert dict to `FrozenDict` to make it hashable by default, this behavior can be disabled by setting mutable=True on `MappingParam`
- `LinkBetween` and `LinkSmooth` implements `ICurveLike` which provides one method: curve_length
- subclassing dataclass form pcell don't need .dataclass() now, see gpdk/examples/example_pcell_dataclass.py
- `InstanceSet` now supports new syntax:
    ```python
    instSet2 = fp.InstanceSet()
    insts += inst, &quot;key&quot;
    inst = insts[&quot;key&quot;]
    inst = insts.get(&quot;key&quot;, default=None)
    instSet2 = fp.InstanceSet()
    instSet2 += insts
    inst = instSet2[&quot;key&quot;]
    instDict = { &quot;key2&quot;: inst2 }
    instSet2 += instDict
    inst2 = instSet2[&quot;key2&quot;]
    ```
- strong typing: now pass the pyright strict typing with 5 exceptions:
    ```toml
    reportImportCycles = &quot;none&quot; # import in factory method still reported as cycles
    reportIncompatibleMethodOverride = &quot;none&quot; # override property with @property method
    reportIncompatibleVariableOverride = &quot;none&quot; # override property with @property method
    reportMissingTypeStubs = &quot;none&quot; # native dependencies such as shapely
    reportUnusedImport = &quot;none&quot;  # reexport
    ```


Version 0.5.1 (2021-9-18)
============================
- bugfix(edge case in metal linkBetween)
- typing fix for older vscode python extension


Version 0.5.0 (2021-9-17)
============================
- XXXParam.as_field() supports repr, hash and compare parameters now
- XXXParam() supports preprocessor which is called with the user-given argument value, if it returns None then default value is used
- FloatParam family and IntParam family now supports precision which will restrict argument value to multples of the precision
- ICell.new_array() is now with default values: cols=1, col_width=0, rows=1, row_height=0
- ICurve.subcurve() now accept negative start/end which equals to curve_length - abs(start) or curve_length - abs(end)
- WaveguideType, MetalLineType, MetalLineStyle parameters renamed
    - DESIGN_CORE_WIDTH =&gt; core_design_width, FORCE_CORE_WIDTH =&gt; core_layout_width, CORE_BIAS =&gt; core_bias ...
    - LINE_WIDTH =&gt; line_width, FORCE_LINE_STYLE =&gt; line_layout_style, ...
    - STUB_WIDTH =&gt; stub_width
- New bool stub_right_angle(default to False) parameter to MetalLineStyle.
- export_gds now supports layer_mapper parameter
- import_gds layer_mapper callable now accept a single Tuple[int, int] argument instead of two (layer:int, datatype:int)
- bugfix(dataclass pcell name default bug, ...)


Version 0.4.9 (2021-9-14)
============================
- AutoVias now returns a vias factory instead of the direct result
- bugfix

Version 0.4.8 (2021-9-13)
============================
- dataclass pcell: use try block to prevent errors break the default value resolution

Version 0.4.7 (2021-9-13)
============================
- IOwnedTerminal.repositioned(at=...) now accept IPin/IPort, rotate and translate the owner of the terminal,
    return repositioned(and rotated if both are IOwnedPort) terminal

- dataclass pcell: validate at last _default_xxx run, fix the validate too early bug

Version 0.4.6 (2021-9-13)
============================
- SlotMetalLineType moved from fnpcell to gpdk
- dataclass pcell _default_xxx method will be call multiple times to prevent dependency problem
- extract IMetalLineStyle from IMetalLineType
- technology: AutoVia, AutoMetalLineType

Version 0.4.5 (2021-9-10)
============================
- orientation of port label is now only in multiples of PI/2
- CoreCladdingWaveguideType moved to gpdk
- removes defer_default in fp.XXXParam, for dataclass pcell it is True by default
- bugfix
- remove fp.with_parameters as dataclass pcell don't need it

Version 0.4.4 (2021-9-9)
============================
- fp.XXXParam supports defer_default and default_factory, which enable the _default_xxx pattern to provide default value to parameters in dataclass pcell

Version 0.4.3 (2021-9-7)
============================
- ICurve.subcurve() returns a subcurve from start(in curve length) to end(in curve length)
- ICurve.sample_at() returns sample info(position, orientation, length) at position(in curve length)
- SmoothLink() deprecated, use LinkSmooth() instead to align name convention with LinkBetween()

Version 0.4.2 (2021-9-4)
============================
- fnpcell.ansi.term supports color print, used by gpdk/util/check_requirements.py

Version 0.4.1 (2021-9-3)
============================
- supports dataclass form pcell with frozen=False
- support hidden port, eg. ports=[&quot;op_0&quot;, fp.Hidden(&quot;op_1&quot;)]

Version 0.4.0 (2021-9-1)
============================
- Path.smooth weird orientation(when last point is too close to bend end) bugfix

Version 0.3.9 (2021-8-31)
============================
- Affine2D.transform_angle bugfix

Version 0.3.8 (2021-8-31)
============================
- fp.SmoothLink() see gpdk example_smooth_link for details
- fp.pcell_class and fp.PCell to support dataclass form of pcell, see gpdk example_pcell, example_pcell_dataclass for details

Version 0.3.7 (2021-8-28)
============================
- change fp.g.Path(start_at=(x, y)) to fp.g.Path.move(to=(x, y)), so we can use fp.g.Path.smooth() instead of importing fnpcell.elements.Path
- Path.smooth bugfix

Version 0.3.6 (2021-8-25)
============================
- pyi fix

Version 0.3.5 (2021-8-24)
============================
- fnpcell.incubator: Linked/LinkBetween for metal line

Version 0.3.4 (2021-8-23)
============================
- bugfix

Version 0.3.3 (2021-8-22)
============================
- bugfix

Version 0.3.2 (2021-8-22)
============================
- new methods:
    - curve.rail: generate parallel curve like rail
    - curve.bundle: generate many parallel curve with equal spacing

Version 0.3.1 (2021-8-21)
============================

- Linked links accepts LinkBetween and pattern dc[&quot;op_0&quot;] &gt;&gt; fp.Waypoint(0, 0, 90) &gt;&gt; dc[&quot;op_1&quot;] now
- LinkBetween supports waypoints parameter now

Version 0.3.0 (2021-8-21)
============================

- LinkBetween in Linked

Version 0.2.8 (2021-8-20)
============================

- export_spc supports components parameter

Version 0.2.7 (2021-8-19)
============================

- typing infrastructure enhancement

Version 0.2.6 (2021-8-18)
============================

- bugfix

Version 0.2.5 (2021-8-17)
============================

- bugfix

Version 0.2.4 (2021-8-17)
============================

- bugfix

Version 0.2.3 (2021-8-17)
============================

- bugfix

Version 0.2.2 (2021-8-16)
============================

- fp.el.Label supports font, font_size, baseline parameters
- typing fix
- bugfix

Version 0.2.1 (2021-8-9)
============================

- bugfix and dependencies update

Version 0.2.0 (2021-8-5)
============================

- fp.MetalLine, fp.SlotMetalLineType

Version 0.1.9 (2021-8-2)
============================

- bugfix

Version 0.1.8 (2021-7-27)
============================

- bugfix

Version 0.1.7 (2021-7-25)
============================

- bugfix

Version 0.1.6 (2021-7-20)
============================

- port based transform methods, see gpdk/examples/example_port_transform.py
- Linked() supports FLYLINE_MARK

Version 0.1.5 (2021-7-2)
============================

- 内部改进

Version 0.1.4 (2021-6-30)
============================

- svrf支持
- 内部改进

Misc
----

- CD Bias: 对于 double slot 的 Waveguide，该如何计算？
- 已知问题：
    - CellRef 平移舍入导致 1nm gap,
        - (0.3 + 0.3) = 0.6 =&gt; 1
        - (0.3 + 0.3) =&gt; (0.0 + 0.0) = 0
    - 奇数 grid 宽度导致 1nm gap

Version 0.1.3 (2021-6-14)
============================

- fp.import_from_json()

Misc
----

- CD Bias: 对于 double slot 的 Waveguide，该如何计算？
- 已知问题：
    - CellRef 平移舍入导致 1nm gap,
        - (0.3 + 0.3) = 0.6 =&gt; 1
        - (0.3 + 0.3) =&gt; (0.0 + 0.0) = 0
    - 奇数 grid 宽度导致 1nm gap


Version 0.1.2 (2021-6-1)
============================

- fp.PortSet()
- bend_type for fp.Linked
- supports for PINREC_FWG, PINREC_SWG, PINREC_MWG, PINREC_TEXT

Compatibility Notes
-------------------

- 移除 fp.DeviceBuilder 和 example_builder.py

Misc
----

- CD Bias: 对于 double slot 的 Waveguide，该如何计算？
- 已知问题：
    - CellRef 平移舍入导致 1nm gap,
        - (0.3 + 0.3) = 0.6 =&gt; 1
        - (0.3 + 0.3) =&gt; (0.0 + 0.0) = 0
    - 奇数 grid 宽度导致 1nm gap


Version 0.1.1 (2021-5-10)
============================

- fp.pcell 支持 band 参数
- fp.InstanceSet, fp.ElementSet
- fp.Linked 支持 link_type 参数
- fp.DeviceBuilder


Version 0.1.0 (2021-4-26)
============================

- fp.g.EulerBend 支持 l_max 参数
- export_lyp 修复
- IWaveguideType 支持 BAND
- 初步支持 AutoLink： fp.Linked


Version 0.0.9 (2021-4-14)
============================

- 几何曲线和形状 g.Bezier, g.EulerBend 和 g.Path。 g.Path 用于组合多段曲线
- 提供 AutoTransition 支持
- export_gds 更易使用
- 代码库进行了精简


Version 0.0.8 (2021-3-31)
============================

- 几何曲线和形状 g.Box, g.EllipticalArc, g.EllipticalRing, g.Line, g.Rect, g.RegularPolygon, g.SArc, g.Shape，曲线的基类是 g.Curve
- el.Box, el.EllipticalArc, el.EllipticalRing, el.Line, el.Rect, el.RegularPolygon, el.SArc 支持 origin 参数，eg. origin=(0, 0)
- el.Text, el.Label 支持 at 参数，eg. at=(0, 0) or at=port_0
- CoreCladdingWaveguideType
- Waveguide(name, type, curve, ports)
- import_from_gds 默认会使用 TECH.LAYER 来映射
- technology 调整，对修改更友好了
- 支持 TECH.PORT.OFFSET 设置不同值


Version 0.0.7 (2021-3-18)
============================

- 修复 cython pickling bug 导致多进程构建死锁的问题
- 实验性支持导出 netlist


Version 0.0.6 (2021-3-17)
============================

- pcell 固定参数定义和返回结构
- 实验性支持 ParalellExecution 多进程构建 pcell
- 增加 ```with Resource(...) as io: ``` 用于简化读取和写入文件的操作
- 更好的支持导入 .gds 文件中的 cell
- DeviceParam 支持 type 参数，限定能传入的 Device 的类型
- 增加 h_mirror（左右镜像）, v_mirror（上下镜像）, c_mirror（中心镜像） 方法
- 优化 .gds 导出的 cell 名称，现在重复的名称会添加简短的后缀
- 优化模块导入，现在只需 from fnpcell import all as fp


Version 0.0.5 (2021-3-11)
============================

- pcell2， 支持新参数定义方式


Version 0.0.4 (2021-3-10)
============================

- 内部优化


Version 0.0.3 (2021-3-8)
============================

- CD Bias 现在支持linear_cd_bias([(0.4, 0.1), (0.6, 0.15), (0.8, 0.2)])方式
- 简化pdk接口，GPDK所有开发所需皆由fnpcell.neo.pdk和fnpcell.neo.pdk.technology导入
- 简化Component开发，现在可用回简单的函数来生成pcell了


Version 0.0.2 (2021-2-25)
============================

- CD Bias 初步支持
- 其他内部优化
</code></pre>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="fnpcell.all" href="all/index.html">fnpcell.all</a></code></dt>
<dd>
<div class="desc"><p>reexport classes and functions to public</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.ansi" href="ansi/index.html">fnpcell.ansi</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.cell" href="cell/index.html">fnpcell.cell</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.compat" href="compat.html">fnpcell.compat</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.element" href="element/index.html">fnpcell.element</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.errors" href="errors.html">fnpcell.errors</a></code></dt>
<dd>
<div class="desc"><p>Common errors fnpcell may raise</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.fp" href="fp.html">fnpcell.fp</a></code></dt>
<dd>
<div class="desc"><p>Common floating functions to handle floating errors</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.gdsii" href="gdsii/index.html">fnpcell.gdsii</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.geometry" href="geometry/index.html">fnpcell.geometry</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.hash_code" href="hash_code.html">fnpcell.hash_code</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.interfaces" href="interfaces.html">fnpcell.interfaces</a></code></dt>
<dd>
<div class="desc"><p>Common interfaces and value types for fnpcell</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.internal" href="internal/index.html">fnpcell.internal</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.mixin" href="mixin/index.html">fnpcell.mixin</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.netlist" href="netlist/index.html">fnpcell.netlist</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.pdk" href="pdk/index.html">fnpcell.pdk</a></code></dt>
<dd>
<div class="desc"><p>Classes and functions used in creating pdk.</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.polyfill" href="polyfill.html">fnpcell.polyfill</a></code></dt>
<dd>
<div class="desc"><p>A polyfill module fixing some typing issues (which is fixed in python 3.9+) in python 3.8</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.processors" href="processors/index.html">fnpcell.processors</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.resource" href="resource.html">fnpcell.resource</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="fnpcell.transform" href="transform.html">fnpcell.transform</a></code></dt>
<dd>
<div class="desc"><p>Affine2D transformations</p></div>
</dd>
<dt><code class="name"><a title="fnpcell.unique_meta" href="unique_meta.html">fnpcell.unique_meta</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<form>
<input id="lunr-search" name="q" placeholder="🔎 Search ..." aria-label="Search"
disabled minlength="2">
</form>
<link rel="preload stylesheet" as="style" href="assets/tingle/0.15.3/tingle.min.css">
<script src="assets/tingle/0.15.3/tingle.min.js"></script>
<style>
.modal-dialog iframe {
width: 100vw;
height: calc(100vh - 80px);
}
@media screen and (min-width: 700px) {
.modal-dialog iframe {
width: 70vw;
height: 80vh;
}
}
.modal-dialog .tingle-modal-box {width: auto;}
.modal-dialog .tingle-modal-box__content {padding: 0;}
</style>
<script>
const input = document.getElementById('lunr-search');
input.disabled = false;
input.form.addEventListener('submit', (ev) => {
ev.preventDefault();
const url = new URL(window.location);
url.searchParams.set('q', input.value);
history.replaceState({}, null, url.toString());
search(input.value);
});
const query = new URL(window.location).searchParams.get('q');
if (query)
search(query);
function search(query) {
const url = 'doc-search.html#' + encodeURIComponent(query);
new tingle.modal({
cssClass: ['modal-dialog'],
onClose: () => {
const url = new URL(window.location);
url.searchParams.delete('q');
history.replaceState({}, null, url.toString());
setTimeout(() => input.focus(), 100);
}
}).setContent('<iframe src="' + url + '"></iframe>').open();
}
</script>
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#functional-parameterized-cell">Functional Parameterized Cell</a></li>
<li><a href="#changelog">Changelog</a></li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-submodules">words_700</a></h3>
<ul>
<li><code><a title="words_700_1" href="words/700_day1.html">words_700_1</a></code></li>
<li><code><a title="words_700_2" href="words/700_day2.html">words_700_2</a></code></li>
<li><code><a title="words_700_3" href="words/700_day3.html">words_700_3</a></code></li>
<li><code><a title="words_700_4" href="words/700_day4.html">words_700_4</a></code></li>
<li><code><a title="words_700_5" href="words/700_day5.html">words_700_5</a></code></li>
<li><code><a title="words_700_6" href="words/700_day6.html">words_700_6</a></code></li>
<li><code><a title="words_700_7" href="words/700_day7.html">words_700_7</a></code></li>


</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
</footer>
</body>
</html>